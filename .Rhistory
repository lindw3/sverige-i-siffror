text = paste("År:" , År ,
"\nLand:" , Land,
"\nKoldioxidutsläpp (ton):" , round(Antal, 2)))) +
geom_line() +
scale_colour_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#2DCCDE",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59",
"Sweden" = "#D7E559"
)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
xlab(NULL) +
ylab("Koldioxidutsläpp (ton)")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/co2.html")
df <- read_excel("data/pisa_data.xls")
df$Medelvärde <- as.numeric(df$Medelvärde)
df$År <- as.numeric(df$År)
p <- df %>%
filter(Land == "Sweden" ,
År != 2000) %>%
ggplot(aes(x = År, y = Medelvärde  , group = 2,
text = paste("År:" , År ,
"\nResultat:" , round(Medelvärde)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(2003, 2022)) +
scale_y_continuous(limits = c(300 , 510) ,
breaks =  seq(300, 500, 50)) +
xlab(NULL) + ylab("PISA-resultat")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/pisa_sverige.html")
# ... jämfört med andra länder
p <- df %>%
filter(År != 2000) %>%
ggplot(aes(x = År, y = Medelvärde, group = Land,
alpha = Land == "Sweden" ,
linewidth = Land == "Sweden" ,
colour = Land == "Sweden",
text = paste("År:" , År ,
"\nLand:" , Land,
"\nResultat:" , round(Medelvärde, 2)))) +
geom_line() +
scale_colour_manual(values = c("TRUE" = "#D7E559", "FALSE" = "#5991E5")) +
scale_alpha_manual(values = c("TRUE" = 1, "FALSE" = 0.25)) +
scale_linewidth_manual(values = c("TRUE" = 1.35, "FALSE" = 0.5)) +
sis_theme +
scale_x_continuous(breaks = c(2003, max(df$År))) +
scale_y_continuous(limits = c(300 , max(df$Medelvärde + 10)) ,
breaks =  seq(300, 550, 50)) +
guides(alpha = "none", linewidth = "none" ,colour = "none") +
xlab(NULL) +
ylab("PISA-resultat")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/pisa.html")
df <- read_excel("data/co2_percapita.xlsx")
colnames(df) <- c("Land" , "År" , "Antal")
df$Antal <- as.numeric(df$Antal)
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Antal  , group = 2,
text = paste("År:" , År ,
"\nKoldioxidutsläpp/person (ton):" , round(Antal)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(1834, 1970, 2023)) +
scale_y_continuous(limits = c(0 , 12.5) ,
breaks =  seq(0, 12.5, 2.5)) +
xlab(NULL) + ylab("Koldioxidutsläpp (ton)")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/co2_sverige.html")
# ... jämfört med andra länder
# "Sett till totala utsläpp står Sverige för 0.X procent"
p <- df %>%
filter(Land %in%c(
"Sweden",
"Asia",
"Africa",
"Europe",
"North America",
"Oceania",
"South America"
)
) %>%
ggplot(aes(x = År, y = Antal, group = Land, colour = Land,
text = paste("År:" , År ,
"\nLand:" , Land,
"\nKoldioxidutsläpp/person (ton):" , round(Antal, 2)))) +
geom_line() +
scale_colour_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#2DCCDE",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59",
"Sweden" = "#D7E559"
)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
xlab(NULL) +
ylab("Koldioxidutsläpp (ton)")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/co2.html")
df <- read_excel("data/co2_percapita.xlsx")
colnames(df) <- c("Land" , "År" , "Antal")
df$Antal <- as.numeric(df$Antal)
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Antal  , group = 2,
text = paste("År:" , År ,
"\nKoldioxidutsläpp/person (ton):" , round(Antal, 1)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(1834, 1970, 2023)) +
scale_y_continuous(limits = c(0 , 12.5) ,
breaks =  seq(0, 12.5, 2.5)) +
xlab(NULL) + ylab("Koldioxidutsläpp (ton)")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/co2_sverige.html")
# ... jämfört med andra länder
# "Sett till totala utsläpp står Sverige för 0.X procent"
p <- df %>%
filter(Land %in%c(
"Sweden",
"Asia",
"Africa",
"Europe",
"North America",
"Oceania",
"South America"
)
) %>%
ggplot(aes(x = År, y = Antal, group = Land, colour = Land,
text = paste("År:" , År ,
"\nLand:" , Land,
"\nKoldioxidutsläpp/person (ton):" , round(Antal, 1)))) +
geom_line() +
scale_colour_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#2DCCDE",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59",
"Sweden" = "#D7E559"
)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
xlab(NULL) +
ylab("Koldioxidutsläpp (ton)")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/co2.html")
library(jsonlite)
library(ggplot2)
library(stringr)
library(scales)
library(dplyr)
library(tidyr)
library(DT)
library(png)
library(data.table)
library(magrittr)
library(gridExtra)
library(openxlsx)
library(patchwork)
library(ggthemes)
library(plotly)
library(htmlwidgets)
library(reticulate)
library(ggridges)
library(forecast)
library(GGally)
library(cluster)
library(sf)
library(readxl)
library(forcats)
df <- read.csv("https://ourworldindata.org/grapher/government-spending-by-function.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Social protection" ,
"Health" , "General public services" ,
"Education" , "Economic affairs" ,
"Defense" , "Order and safety" ,
"Housing and community amenities",
"Recreation, culture and religion" ,
"Environmental protection")
df %>%
filter(Land %in% c("Sweden", "OECD countries")) %>%
ggplot(aes(x = fct_reorder(Kategori, Andel, .desc = TRUE), y = Andel , fill = Land,
text = paste("Kategori:" , Kategori ,
"\nAndel av statliga utgifter, %:" , round(Andel, 2)))) +
geom_col() +
scale_fill_manual(values = c(
"OECD countries" = "#E56759",
"Sweden" = "#5991E5"
))
df <- read.csv("https://ourworldindata.org/grapher/government-spending-by-function.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Social protection" ,
"Health" , "General public services" ,
"Education" , "Economic affairs" ,
"Defense" , "Order and safety" ,
"Housing and community amenities",
"Recreation, culture and religion" ,
"Environmental protection")
df <- df %>%
filter(
År == 2023
) %>%
pivot_longer(!c(1:3) , names_to = "Kategori" ,
values_to = "Andel")
df %>%
filter(Land %in% c("Sweden", "OECD countries")) %>%
ggplot(aes(x = fct_reorder(Kategori, Andel, .desc = TRUE), y = Andel , fill = Land,
text = paste("Kategori:" , Kategori ,
"\nAndel av statliga utgifter, %:" , round(Andel, 2)))) +
geom_col() +
scale_fill_manual(values = c(
"OECD countries" = "#E56759",
"Sweden" = "#5991E5"
))
sis_theme +
theme(axis.text.x = element_text(angle = 70, hjust = 1 , vjust = 1)) +
xlab(NULL) + ylab("Andel av statliga utgifter, %")
df %>%
filter(Land %in% c("Sweden", "OECD countries")) %>%
ggplot(aes(x = fct_reorder(Kategori, Andel, .desc = TRUE), y = Andel , fill = Land,
text = paste("Kategori:" , Kategori ,
"\nAndel av statliga utgifter, %:" , round(Andel, 2)))) +
geom_col(position = "dodge") +
scale_fill_manual(values = c(
"OECD countries" = "#E56759",
"Sweden" = "#5991E5"
))
sis_theme +
theme(axis.text.x = element_text(angle = 70, hjust = 1 , vjust = 1)) +
xlab(NULL) + ylab("Andel av statliga utgifter, %")
df %>%
filter(Land %in% c("Sweden", "OECD countries")) %>%
ggplot(aes(x = fct_reorder(Kategori, Andel, .desc = TRUE), y = Andel , fill = Land,
text = paste("Kategori:" , Kategori ,
"\nAndel av statliga utgifter, %:" , round(Andel, 2)))) +
geom_col(position = "dodge") +
scale_fill_manual(values = c(
"OECD countries" = "#E56759",
"Sweden" = "#5991E5"
)) +
sis_theme +
theme(axis.text.x = element_text(angle = 70, hjust = 1 , vjust = 1)) +
xlab(NULL) + ylab("Andel av statliga utgifter, %")
levels_fill <- df %>%
filter(Land == "OECD countries") %>%
arrange(desc(Andel)) %>%
pull(Kategori)
df %>%
filter(Land %in% c("Sweden", "OECD countries")) %>%
mutate(Kategori = factor(Kategori, levels = levels_fill)) %>%
ggplot(aes(x = Kategori, y = Andel, fill = Land,
text = paste("Kategori:" , Kategori ,
"\nAndel av statliga utgifter, %:" , round(Andel, 2)))) +
geom_col(position = "dodge") +
scale_fill_manual(values = c(
"OECD countries" = "#E56759",
"Sweden" = "#5991E5"
)) +
sis_theme +
theme(axis.text.x = element_text(angle = 70, hjust = 1 , vjust = 1)) +
xlab(NULL) + ylab("Andel av statliga utgifter, %")
p <- df %>%
filter(Land %in% c("Sweden", "OECD countries")) %>%
mutate(Kategori = factor(Kategori, levels = levels_fill)) %>%
ggplot(aes(x = Kategori, y = Andel, fill = Land,
text = paste("Kategori:" , Kategori ,
"\nAndel av statliga utgifter, %:" , round(Andel, 2)))) +
geom_col(position = "dodge") +
scale_fill_manual(values = c(
"OECD countries" = "#E56759",
"Sweden" = "#5991E5"
)) +
sis_theme +
theme(axis.text.x = element_text(angle = 70, hjust = 1 , vjust = 1)) +
xlab(NULL) + ylab("Andel av statliga utgifter, %")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/statligautgifter_fördelning.html")
# Paket
library(jsonlite)
library(ggplot2)
library(stringr)
library(scales)
library(dplyr)
library(tidyr)
library(DT)
library(png)
library(data.table)
library(magrittr)
library(gridExtra)
library(openxlsx)
library(patchwork)
library(ggthemes)
library(plotly)
library(htmlwidgets)
library(reticulate)
library(ggridges)
library(forecast)
library(GGally)
library(cluster)
library(sf)
library(readxl)
library(forcats)
df <- read.csv("https://ourworldindata.org/grapher/per-capita-energy-source-stacked.csv?v=1&csvType=full&useColumnShortNames=true")
df %>%
pivot_longer(!c(1:3) , names_to = "Kategori" ,
values_to = "Antal")
df <- df %>%
pivot_longer(!c(1:3) , names_to = "Kategori" ,
values_to = "Antal")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = Kategori, y = Antal ,
text = paste("Kategori:" , Kategori ,
"\nKilowatt/h:" , round(Antal)))) +
geom_col(fill = "#5991E5") +
sis_theme
df <- read.csv("https://ourworldindata.org/grapher/per-capita-energy-source-stacked.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land", "Kod" , "År" , "Fossilt", "Kärnkraft" , "Förnybart")
df <- df %>%
pivot_longer(!c(1:3) , names_to = "Kategori" ,
values_to = "Antal")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = Kategori, y = Antal ,
group = Kategori, colour = Kategori,
text = paste("Kategori:" , Kategori ,
"\nKilowatt/h:" , round(Antal)))) +
geom_line() +
scale_colour_manual(values = c(
"Fossilt" = "#5991E5",
"Kärnkraft" = "#E56759",
"Förnybart" = "#59E5AD"
)) +
sis_theme +
xlab(NULL) + ylab("Kilowatt/h per capita %")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Antal ,
group = Kategori, colour = Kategori,
text = paste("Kategori:" , Kategori ,
"\nKilowatt/h:" , round(Antal)))) +
geom_line() +
scale_colour_manual(values = c(
"Fossilt" = "#5991E5",
"Kärnkraft" = "#E56759",
"Förnybart" = "#59E5AD"
)) +
sis_theme +
xlab(NULL) + ylab("Kilowatt/h per capita %")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Antal ,
group = Kategori, colour = Kategori,
text = paste("Kategori:" , Kategori ,
"\nKilowatt/h:" , round(Antal)))) +
geom_line() +
scale_colour_manual(values = c(
"Fossilt" = "#5991E5",
"Kärnkraft" = "#E56759",
"Förnybart" = "#59E5AD"
)) +
sis_theme +
scale_x_continuous(breaks = c(1965, 2023)) +
xlab(NULL) + ylab("Kilowatt/h per capita %")
df <- read.csv("https://ourworldindata.org/grapher/foreign-aid-given-as-a-share-of-national-income.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod", "År" , "Andel", "Annotering")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Andel  , group = 2,
text = paste("År:" , År ,
"\nAndel av GNI:" , round(Andel, 3)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Andel + 0.1)) ,
breaks =  c(0, 0.7)) +
xlab(NULL) + ylab("Andel av bruttonationalinkomst (GNI)")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Andel  , group = 2,
text = paste("År:" , År ,
"\nAndel av GNI:" , round(Andel, 3)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Andel + 0.1)) ,
breaks =  0.7) +
xlab(NULL) + ylab("Andel av bruttonationalinkomst (GNI)")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Andel  , group = 2,
text = paste("År:" , År ,
"\nAndel av GNI:" , round(Andel, 3)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , 1.5) ,
breaks =  0.7) +
xlab(NULL) + ylab("Andel av bruttonationalinkomst (GNI)")
df %>%
ggplot(aes(x = År, y = Andel, group = Land,
alpha = Land == "Sweden" ,
linewidth = Land == "Sweden" ,
colour = Land == "Sweden",
text = paste("År:" , År ,
"\nLand:" , Land,
"\nAndel av GNI:" , round(Andel, 2)))) +
geom_line() +
scale_colour_manual(values = c("TRUE" = "#D7E559", "FALSE" = "#5991E5")) +
scale_alpha_manual(values = c("TRUE" = 1, "FALSE" = 0.25)) +
scale_linewidth_manual(values = c("TRUE" = 1.35, "FALSE" = 0.5)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Andel + 0.1)) ,
breaks =  0.7) +
guides(alpha = "none", linewidth = "none" ,colour = "none") +
xlab(NULL) +
ylab("Genomsnittligt antal arbetstimmar/anställd/år")
df %>%
ggplot(aes(x = År, y = Andel, group = Land,
alpha = Land == "Sweden" ,
linewidth = Land == "Sweden" ,
colour = Land == "Sweden",
text = paste("År:" , År ,
"\nLand:" , Land,
"\nAndel av GNI:" , round(Andel, 2)))) +
geom_line() +
scale_colour_manual(values = c("TRUE" = "#D7E559", "FALSE" = "#5991E5")) +
scale_alpha_manual(values = c("TRUE" = 1, "FALSE" = 0.25)) +
scale_linewidth_manual(values = c("TRUE" = 1.35, "FALSE" = 0.5)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , 0.015) ,
breaks =  0.7) +
guides(alpha = "none", linewidth = "none" ,colour = "none") +
xlab(NULL) +
ylab("Genomsnittligt antal arbetstimmar/anställd/år")
df %>%
ggplot(aes(x = År, y = Andel, group = Land,
alpha = Land == "Sweden" ,
linewidth = Land == "Sweden" ,
colour = Land == "Sweden",
text = paste("År:" , År ,
"\nLand:" , Land,
"\nAndel av GNI:" , round(Andel, 2)))) +
geom_line() +
scale_colour_manual(values = c("TRUE" = "#D7E559", "FALSE" = "#5991E5")) +
scale_alpha_manual(values = c("TRUE" = 1, "FALSE" = 0.25)) +
scale_linewidth_manual(values = c("TRUE" = 1.35, "FALSE" = 0.5)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , 1.5) ,
breaks =  0.7) +
guides(alpha = "none", linewidth = "none" ,colour = "none") +
xlab(NULL) +
ylab("Genomsnittligt antal arbetstimmar/anställd/år")
df <- read.csv("https://ourworldindata.org/grapher/foreign-aid-given-as-a-share-of-national-income.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod", "År" , "Andel", "Annotering")
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Andel  , group = 2,
text = paste("År:" , År ,
"\nAndel av GNI:" , round(Andel, 3)))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , 1.5) ,
breaks =  0.7) +
xlab(NULL) + ylab("Andel av bruttonationalinkomst (GNI), %")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/bistånd_sverige.html")
# ... jämfört med andra länder
p <- df %>%
ggplot(aes(x = År, y = Andel, group = Land,
alpha = Land == "Sweden" ,
linewidth = Land == "Sweden" ,
colour = Land == "Sweden",
text = paste("År:" , År ,
"\nLand:" , Land,
"\nAndel av GNI:" , round(Andel, 2)))) +
geom_line() +
scale_colour_manual(values = c("TRUE" = "#D7E559", "FALSE" = "#5991E5")) +
scale_alpha_manual(values = c("TRUE" = 1, "FALSE" = 0.25)) +
scale_linewidth_manual(values = c("TRUE" = 1.35, "FALSE" = 0.5)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , 1.5) ,
breaks =  0.7) +
guides(alpha = "none", linewidth = "none" ,colour = "none") +
xlab(NULL) +
ylab("Andel av bruttonationalinkomst (GNI), %")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/bistånd.html")
