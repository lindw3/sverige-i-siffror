gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Kvot) + 0.5) ,
breaks =  seq(0, 6, 1)) +
xlab(NULL) + ylab("Antal skilsmässor/1000 invånare")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/skilsmässor.html")
df <- read.csv("https://ourworldindata.org/grapher/marriage-rate-per-1000-inhabitants.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Kvot")
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Kvot  , group = 2,
text = paste("År:" , År ,
"\nGiftermål/1000:" , Kvot))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År)))
df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Kvot  , group = 2,
text = paste("År:" , År ,
"\nGiftermål/1000:" , Kvot))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Kvot) + 1) ,
breaks =  seq(0, 13, 2.5)) +
xlab(NULL) + ylab("Antal giftermål/1000 invånare")
df %>%
filter(År = 1960:2020)
df %>%
filter(År == 1960:2020)
df %>%
filter(between(År, 1960, 2020))
df <- df %>%
filter(between(År, 1960, 2020))
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Kvot  , group = 2,
text = paste("År:" , År ,
"\nGiftermål/1000:" , Kvot))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Kvot) + 1) ,
breaks =  seq(0, 13, 2.5)) +
xlab(NULL) + ylab("Antal giftermål/1000 invånare")
p
df <- df %>%
filter(between(År, 1960, 2020))
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Kvot  , group = 2,
text = paste("År:" , År ,
"\nGiftermål/1000:" , Kvot))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Kvot) + 1) ,
breaks =  seq(0, 13, 2.5)) +
xlab(NULL) + ylab("Antal giftermål/1000 invånare")
df <- read.csv("https://ourworldindata.org/grapher/marriage-rate-per-1000-inhabitants.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Kvot")
df <- df %>%
filter(between(År, 1960, 2020))
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Kvot  , group = 2,
text = paste("År:" , År ,
"\nGiftermål/1000:" , Kvot))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , max(df$Kvot) + 1) ,
breaks =  seq(0, 13, 2.5)) +
xlab(NULL) + ylab("Antal giftermål/1000 invånare")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
img
library(jsonlite)
library(ggplot2)
library(stringr)
library(scales)
library(dplyr)
library(tidyr)
library(DT)
library(png)
library(data.table)
library(magrittr)
library(gridExtra)
library(openxlsx)
library(patchwork)
library(ggthemes)
library(plotly)
library(htmlwidgets)
library(reticulate)
library(ggridges)
library(forecast)
library(GGally)
library(cluster)
library(sf)
library(readxl)
library(gghighlight)
df <- read.csv("https://ourworldindata.org/grapher/share-of-people-who-say-they-are-happy.csv?v=1&csvType=full&useColumnShortNames=true")
View(df)
colnames(df) <- c("Land" , "Kod" , "År" , "Lycka" , "Annotering")
p <- df %>%
filter(Land == "Sweden") %>%
ggplot(aes(x = År, y = Lycka  , group = 2,
text = paste("År:" , År ,
"\nAndel:" , Lycka))) +
geom_line(linewidth = 1 , colour = "#5991E5") +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0 , 100) ,
breaks =  seq(0, 100, 25)) +
xlab(NULL) + ylab("Andel som säger att de är lyckliga")
p
df %>%
ggplot(aes(x = År, y = Lycka, group = Land
)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 100),
breaks = seq(0, 100, 25)) +
xlab(NULL) +
ylab("Andel som säger att de är lyckliga")
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Lycka" , "GDP", "Region")
df <- df %>%
filter(År == 2023)
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Lycka" , "GDP", "Region")
df <- df %>%
filter(År == 2023,
Region != "")
df %>%
ggplot(aes(x = GDP, y = Lycka ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex")
df %>%
ggplot(aes(x = Lycka, y = GDP ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("Lyckoindex") + ylab("GDP")
df %>%
ggplot(aes(x = GDP, y = Lycka ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex")
df %>%
ggplot(aes(x = log10(GDP), y = log10(Lycka) ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex")
df %>%
ggplot(aes(x = log10(GDP), y = log10(Lycka) ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL)
df %>%
ggplot(aes(x = log10(GDP), y = log10(Lycka) ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
))
df %>%
ggplot(aes(x = GDP, y = Lycka) ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP)) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10() +
scale_y_log10()
df %>%
ggplot(aes(x = GDP, y = Lycka) ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP)) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP") + ylab("Lyckoindex") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10(labels = label_number(big.mark = ",")) +
scale_y_log10(labels = label_number(big.mark = ","))
df <- read.csv("https://ourworldindata.org/grapher/share-of-people-who-say-they-are-happy.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Lycka" , "Annotering")
p <- df %>%
ggplot(aes(x = År, y = Lycka, group = Land
)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 100),
breaks = seq(0, 100, 25)) +
xlab(NULL) +
ylab("Andel som säger att de är lyckliga")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/lycka.html")
# Koppling mellan life satisfaction och GDP
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Lycka" , "GDP", "Region")
df <- df %>%
filter(År == 2023,
Region != "")
p <- df %>%
ggplot(aes(x = GDP, y = Lycka) ,
text = paste(Land,
"\nLyckoindex:", Lycka,
"\nGDP: ", GDP)) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP per capita") + ylab("Lyckoindex") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10(labels = label_number(big.mark = ",")) +
scale_y_log10(labels = label_number(big.mark = ","))
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/gdp_lycka.html")
df <- read.csv("https://ourworldindata.org/grapher/share-of-people-who-say-they-are-happy.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Lycka" , "Annotering")
df
View(df)
unique(df$Land)
n_distinct(df$Land)
df <- read.csv("https://ourworldindata.org/grapher/happiness-cantril-ladder.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Tillfredsställelse")
df %>%
ggplot(aes(x = År, y = Tillfredsställelse, group = Land
)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 100),
breaks = seq(0, 100, 25)) +
xlab(NULL) +
ylab("Livstillfredsställelse, skala 1-10")
df %>%
ggplot(aes(x = År, y = Tillfredsställelse, group = Land)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 10),
breaks = seq(0, 10, 2.5)) +
xlab(NULL) +
ylab("Livstillfredsställelse, skala 1-10")
df <- read.csv("https://ourworldindata.org/grapher/happiness-cantril-ladder.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Tillfredsställelse")
p <- df %>%
ggplot(aes(x = År, y = Tillfredsställelse, group = Land)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 10),
breaks = seq(0, 10, 2.5)) +
xlab(NULL) +
ylab("Livstillfredsställelse, skala 1-10")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/livstillfredsställelse.html")
# Koppling mellan livstillfredställelse och GDP
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Livstillfredsställelse" , "GDP", "Region")
df <- df %>%
filter(År == 2023,
Region != "")
p <- df %>%
ggplot(aes(x = GDP, y = Livstillfredsställelse) ,
text = paste(Land,
"\nLivstillfredsställelse:", Livstillfredsställelse,
"\nGDP: ", GDP)) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP per capita") + ylab("Livstillfredsställelse, skala 1-10") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10(labels = label_number(big.mark = ",")) +
scale_y_log10(labels = label_number(big.mark = ","))
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/gdp_livstillfredsställelse.html")
img
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Livstillfredsställelse" , "GDP", "Region")
df <- df %>%
filter(År == 2023,
Region != "")
p <- df %>%
ggplot(aes(x = GDP, y = Livstillfredsställelse ,
text = paste(Land,
"\nLivstillfredsställelse:", Livstillfredsställelse,
"\nGDP: ", GDP))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP per capita") + ylab("Livstillfredsställelse, skala 1-10") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10(labels = label_number(big.mark = ",")) +
scale_y_log10(labels = label_number(big.mark = ","))
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/gdp_livstillfredsställelse.html")
img
df <- read.csv("https://ourworldindata.org/grapher/happiness-cantril-ladder.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Tillfredsställelse")
p <- df %>%
ggplot(aes(x = År, y = Tillfredsställelse, group = Land)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 10),
breaks = seq(0, 10, 2.5)) +
xlab(NULL) +
ylab("Livstillfredsställelse, skala 1-10")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/livstillfredsställelse.html")
# Koppling mellan livstillfredställelse och GDP
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Livstillfredsställelse" , "GDP", "Region")
df <- df %>%
filter(År == 2023,
Region != "")
p <- df %>%
ggplot(aes(x = GDP, y = Livstillfredsställelse ,
text = paste(Land,
"\nLivstillfredsställelse:", round(Livstillfredsställelse,2),
"\nGDP: ", round(GDP)))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP per capita") + ylab("Livstillfredsställelse, skala 1-10") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10(labels = label_number(big.mark = ",")) +
scale_y_log10(labels = label_number(big.mark = ","))
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/gdp_livstillfredsställelse.html")
df <- read.csv("https://ourworldindata.org/grapher/gdp-vs-happiness.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Livstillfredsställelse" , "GDP", "Region")
df <- df %>%
filter(År == 2023,
Region != "")
p <- df %>%
ggplot(aes(x = GDP, y = Livstillfredsställelse ,
text = paste(Land,
"\nLivstillfredsställelse:", round(Livstillfredsställelse,2),
"\nGDP: ", round(GDP)))) +
geom_point(aes(colour = Region)) +
sis_theme +
labs(colour = "Region") +
xlab("GDP per capita") + ylab("Livstillfredsställelse, skala 1-10") +
scale_color_manual(values = c(
"Africa" = "#5991E5",
"Asia" = "#D7E559",
"Europe" = "#E56759",
"North America" = "#AD59E5",
"Oceania" = "#59E5AD",
"South America" = "#e5ad59"
)) +
scale_x_log10(labels = label_number(big.mark = ",")) +
scale_y_log10(labels = label_number(big.mark = ","))
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/gdp_satisfaction.html")
df <- read.csv("https://ourworldindata.org/grapher/happiness-cantril-ladder.csv?v=1&csvType=full&useColumnShortNames=true")
colnames(df) <- c("Land" , "Kod" , "År" , "Tillfredsställelse")
p <- df %>%
ggplot(aes(x = År, y = Tillfredsställelse, group = Land)) +
geom_line(color = "#5991E5", linewidth = 1.2) +
gghighlight(use_direct_label = FALSE,
Land == "Sweden",
unhighlighted_params = list(linewidth = 0.5,
color = "#5991E5",
alpha = 0.25)) +
sis_theme +
scale_x_continuous(breaks = c(min(df$År), max(df$År))) +
scale_y_continuous(limits = c(0, 10),
breaks = seq(0, 10, 2.5)) +
xlab(NULL) +
ylab("Livstillfredsställelse, skala 1-10")
img <- ggplotly(p, tooltip = "text") %>%
config(displayModeBar = F)
saveWidget(img, "images/satisfaction.html")
